<navbar></navbar>


<div class="container-fluid wbdv-profile">


  <div class="wbdv-selection">
    <ng-template #content2 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h4 class="modal-title" *ngIf="!newUser._id">
          Create a user
        </h4>
        <h4 class="modal-title" *ngIf="newUser._id">
          Update a user
        </h4>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="d('Cross click')"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div
          class="alert alert-danger alert-dismissible fade show"
          role="alert"
          *ngIf="alertUsername == true"
        >
          Username is already taken. Please try another username.
          <button
            type="button"
            class="close"
            data-dismiss="alert"
            (click)="removeUsernameAlert()"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="form-group">
          <label>Username</label>
          <input
            [(ngModel)]="newUser.username"
            [readonly]="newUser._id"
            placeholder="username"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>Password</label>
          <input
            [(ngModel)]="newUser.password"
            [readonly]="newUser._id"
            placeholder="password"
            type="password"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>First Name</label>
          <input
            [(ngModel)]="newUser.firstName"
            placeholder="first name"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input
            [(ngModel)]="newUser.lastName"
            placeholder="last name"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input
            [(ngModel)]="newUser.email"
            placeholder="email address"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>Role</label>
          <select [(ngModel)]="newUser.role" class="form-control">
            <option value="" disabled selected
              >What do you want the user to be?</option
            >
            <option value="FOODIE">Foodie</option>
            <option value="CHEF">Chef</option>
          </select>
        </div>

        <button
          (click)="createUser()"
          *ngIf="!newUser._id"
          class="btn btn-dark btn-block"
        >
          Add
        </button>

        <button
          (click)="updateUser()"
          *ngIf="newUser._id"
          class="btn btn-dark btn-block"
        >
          Update
        </button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="c('Close click')">
          Close
        </button>
      </div>
    </ng-template>

    <button
      class="btn btn-dark btn-block mb-2"
      (click)="openAddUserModal(content2)"
    >
      Add a user
    </button>

  </div>

  <div class="accordion" id="accordionExample">
    <div class="card">
      <button class="btn btn-link" type="button" data-toggle="collapse"
              data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
      <div class="card-header" id="headingOne">
        <h5 class="mb-0">
           Chefs

        </h5>
      </div>
      </button>

      <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
        <div class="card-body">
          <ul class="list-group">
            <li
              *ngFor="let chef of chefs"
              (click)="navigateToProfile(chef.username)"
              class="list-group-item wbdv-user"
            >
              {{ chef.username }}
              <button
                class="btn btn-danger fa fa-trash float-right"
                (click)="deleteUser(chef)"
              ></button>
              <button
                class="btn btn-primary fa fa-pencil-alt float-right"
                (click)="openEditModal(content2, chef)"
              ></button>
            </li>
          </ul>
          </div>
      </div>
    </div>

    <div class="card">
      <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">

      <div class="card-header" id="headingTwo">
        <h5 class="mb-0">
            Foodie

        </h5>
      </div>
      </button>
      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
        <div class="card-body">
          <ul class="list-group">
            <li
              *ngFor="let customer of customers"
              (click)="navigateToProfile(customer.username)"
              class="list-group-item wbdv-user"
            >
              {{ customer.username }}
              <button
                class="btn btn-danger fa fa-trash float-right"
                (click)="deleteUser(customer)"
              ></button>
              <button
                class="btn btn-primary fa fa-pencil-alt float-right"
                (click)="openEditModal(content2, customer)"
              ></button>
            </li>
          </ul>
          </div>
      </div>
    </div>
  </div>
</div>
