<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top wbdv-navbar">
  <h3 class="navbar-brand" (click)="redirectToHome()">
    FoodFood
  </h3>
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent"
    aria-expanded="false"
    (click)="isCollapsed = !isCollapsed"
    [attr.aria-expanded]="!isCollapsed"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>

  <div
    class="collapse navbar-collapse"
    [ngbCollapse]="isCollapsed"
    id="navbarSupportedContent"
  >
    <ul class="navbar-nav mr-auto"></ul>

    <div class="form-inline my-2 my-lg-0">
      <input
        class="form-control wbdv-navbar-search"
        [(ngModel)]="searchText"
        (keyup.enter)="navigate(searchText)"
        placeholder="Search for recipes"
      />
      <button
        type="button"
        (click)="navigate(searchText)"
        class="btn btn-dark wbdv-search-button"
      >
        <span class="fa fa-search"></span>
      </button>
    </div>

    <div class="form-inline my-2 my-lg-0" *ngIf="!currentUser['username']">
      <a routerLink="/login">
        <button class="btn btn-outline-light my-2 my-sm-0" type="button">
          Login
        </button>
      </a>
    </div>

    <div class="form-inline my-2 my-lg-0" *ngIf="!currentUser['username']">
      <a routerLink="/register">
        <button class="btn btn-outline-light my-2 my-sm-0" type="button">
          Register
        </button>
      </a>
    </div>

    <div class="form-inline my-2 my-lg-0" *ngIf="currentUser['username']">
      <h3 class="navbar-brand float-right">
        <div (click)="goToProfile()" class="wbdv-username-anchor">
          {{ currentUser["username"] }}
          <i class="fa fa-lg fa-user-circle-o"></i>
        </div>
      </h3>
    </div>
    <div class="form-inline my-2 my-lg-0" *ngIf="currentUser['username']">
      <button
        class="btn btn-outline-light my-2 my-sm-0"
        (click)="logout()"
        type="button"
      >
        Logout
      </button>
    </div>

    <div class="form-inline my-2 my-lg-0" *ngIf="currentUser['role'] === 'ADMIN'">
      <a routerLink="/admin">
        <button class="btn btn-outline-light my-2 my-sm-0" type="button">
          Admin Page
        </button>
      </a>
    </div>
  </div>
</nav>
